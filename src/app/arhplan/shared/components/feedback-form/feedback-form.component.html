<div class="feedback-form">
  <div class="feedback-form__inner">
    <form action="" class="feedback-form__form" [formGroup]="form" (ngSubmit)="submit()">
      <div class="feedback-form__form-field" [class.invalid]="form.get('userName')?.invalid && submitted">
        <label>Ваше имя</label>
        <input type="text" placeholder="Иван Иванов" formControlName="userName">
        <div class="validation" *ngIf="form.get('userName')?.invalid && submitted">
          <small *ngIf="form.get('userName')?.errors?.required">
            Введите ваше имя
          </small>
        </div>
      </div>
      <div class="feedback-form__form-field" [class.invalid]="form.get('phone')?.invalid && submitted">
        <label>Ваш телефон</label>
        <input type="text" placeholder="+7 (999) 999-99-99" formControlName="phone">
        <div class="validation" *ngIf="form.get('phone')?.invalid && submitted">
          <small *ngIf="form.get('phone')?.errors?.required">
            Введите номер телефона
          </small>
          <small *ngIf="form.get('phone')?.errors.pattern">
            Номер телефона должен быть в формате: +7 (999) 999-99-99
        </small>
        </div>
      </div>
      <div class="feedback-form__form-field" [class.invalid]="form.get('subjectMessage')?.invalid && submitted">
        <label>Тема сообщения</label>
        <input type="text" placeholder="Введите тему сообщения" formControlName="subjectMessage">
        <div class="validation" *ngIf="submitted && form.get('subjectMessage')?.invalid">
          <small *ngIf="form.get('subjectMessage')?.errors?.required">
            Введите тему сообщения
          </small>
        </div>
      </div>
      <div class="feedback-form__form-field" [class.invalid]="form.get('textMessage')?.invalid && submitted">
        <label>Текст сообщения</label>
        <textarea placeholder="Введите текс сообщения" formControlName="textMessage"></textarea>
        <div class="validation" *ngIf="submitted && form.get('textMessage')?.invalid">
          <small *ngIf="form.get('textMessage')?.errors?.required">
            Введите текст сообщения
          </small>
        </div>
      </div>
      <div class="feedback-form__agree">
        <input type="checkbox" checked id="agreement" formControlName="isAgree">
        <label for="agreement">
          <span class="checkbox-indicator">
            <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="#000000"><path
              d="M0 0h24v24H0V0z" fill="none"/><path
              d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/></svg>
          </span>
          <span class="text">Я соглашаюсь с <a target="_blank" routerLink="privacy-policy" class="link">политикой конфиденциальности</a></span>
        </label>
      </div>
      <button class="feedback-form__submit btn btn-primary" [disabled]="form.get('isAgree').value === false">Отправить</button>
    </form>
  </div>
</div>

